## old_version_1.0

> 重构之前的版本，基本功能都实现了，但是代码可阅读性较重构后的版本较差，类与类之间的分工不明确，重复代码较多。

## 重构后的版本

> 想添加一个网络模块，实现网络对战的功能。但是之前的代码只是完成了功能，没有进行重构，所以阅读了《重构：改善既有代码的设计》这本书，对代码进行了重构。
>
> 按照书中的说法，**重构的目的主要是为了去掉代码中的“坏味道”，使以后对项目的扩展改动的代码尽可能的少**，所谓的坏味道指的是：
>
> - 重复代码
> - 过长函数
> - 过大的类
> - ..............
>
> 主要针对代码中的这些“坏味道”进行了修改，修改的主要内容如下：
>
> - 将mainwindow类中，本该属于maze类和Dungeon类实现的函数，放到正确的位置，通过全局变量保持之前的逻辑联系
> - 对于控件对象的创建存在很多重复代码，运用简单工厂模式，进行了优化，分离出一个Factory类
> - 对Dungeon类中的音效功能，抽象出一个Sound类
> - 对存在大量重复代码的keyPressEvent，进行了优化，其它重复代码也进行了优化